!function(e){e.fn.TSToggleSwitch=function(t){t=t||{};var s=e.extend({drag:!0,click:!0,text:{on:"ON",off:"OFF"},on:!1,animate:250,transition:"ease-in-out",checkbox:null,input:null,clicker:null,width:50,height:20,type:"compact",generator:!1},t),i="select"==s.type;s.checkbox=e(s.checkbox),s.input=e(s.input),s.clicker&&(s.clicker=e(s.clicker));var o="margin-left "+s.animate+"ms "+s.transition,n={"-webkit-transition":o,"-moz-transition":o,transition:o},a={"-webkit-transition":"","-moz-transition":"",transition:""},r=function(e,t,o,r){var c=e.toggleClass("active").hasClass("active");if(r!==c){s.generator&&e.parent().attr("data-active",c);var l=e.find(".toggle-inner").css(n);if(e.find(".toggle-off").toggleClass("active"),e.find(".toggle-on").toggleClass("active"),s.checkbox.prop("checked",c).attr("checked",c),s.checkbox.trigger("change"),s.input.val(c),s.input.trigger("change"),!i){var d=c?0:-t+o;l.css("margin-left",d),setTimeout(function(){l.css(a),l.css("margin-left",d)},s.animate)}}};return this.each(function(){var t=e(this),o=t.height(),n=t.width();if(o&&n||(t.height(o=s.height),t.width(n=s.width)),t.attr("data-on"))var a=t.attr("data-on");else var a=s.text.on;if(t.attr("data-off"))var c=t.attr("data-off");else var c=s.text.off;var l='<div class="toggle-',d=e(l+'slide">'),u=e(l+'inner">'),h=e(l+'on">'),f=e(l+'off">'),p=e(l+'blob">'),g=o/2,v=n-g;if(h.css({height:o,width:v,textAlign:"center",textIndent:i?"":-g,lineHeight:o+"px"}).html(a),f.css({height:o,width:v,marginLeft:i?"":-g,textAlign:"center",textIndent:i?"":g,lineHeight:o+"px"}).html(c).addClass("active"),p.css({height:o,width:o,marginLeft:-g}),u.css({width:2*n-o,marginLeft:i?0:-n+o}),i&&(d.addClass("toggle-select"),t.css("width",2*v),p.hide()),t.html(d.html(u.append(h,p,f))),d.on("toggle",function(e,s){e&&e.stopPropagation(),r(d,n,o),t.trigger("toggle",!s)}),t.on("toggleOn",function(){r(d,n,o,!1)}),t.on("toggleOff",function(){r(d,n,o,!0)}),s.on?r(d,n,o):s.generator&&d.parent().attr("data-active","false"),!s.click||s.clicker&&s.clicker.has(t).length||t.on("click",function(e){e.target==p[0]&&s.drag||d.trigger("toggle",d.hasClass("active"))}),s.clicker&&s.clicker.on("click",function(e){e.target==p[0]&&s.drag||d.trigger("toggle",d.hasClass("active"))}),s.drag&&!i){var m,_=(n-o)/4,b=function(e){t.off("mousemove"),d.off("mouseleave"),p.off("mouseup");var i=d.hasClass("active");return!m&&s.click&&"mouseleave"!==e.type?(d.trigger("toggle",i),void 0):(i?-_>m?d.trigger("toggle",i):u.animate({marginLeft:0},s.animate/2):m>_?d.trigger("toggle",i):u.animate({marginLeft:-n+o},s.animate/2),void 0)},y=-n+o;p.on("mousedown",function(e){m=0,p.off("mouseup"),d.off("mouseleave");var s=e.pageX;t.on("mousemove",p,function(e){m=e.pageX-s;var t;d.hasClass("active")?(t=m,m>0&&(t=0),y>m&&(t=y)):(t=m+y,0>m&&(t=y),m>-y&&(t=0)),u.css("margin-left",t)}),p.on("mouseup",b),d.on("mouseleave",b)})}})}}(jQuery),function(e){var t=function(t){var s=e.Toggles=function(e,s){var i=this;if("boolean"==typeof s&&e.data("toggles"))return e.data("toggles").toggle(s),void 0;for(var o=["on","drag","click","width","height","animate","easing","type"],n={},a=0;a<o.length;a++){var r=e.data("toggle-"+o[a]);"undefined"!=typeof r&&(n[o[a]]=r)}s=i.opts=t.extend({drag:!0,click:!0,text:{on:"ON",off:"OFF"},on:!1,animate:250,easing:"swing",checkbox:null,clicker:null,width:50,height:20,type:"compact",event:"toggle"},s||{},n),i.el=e,i.active=s.on,e.data("toggles",i),i.selectType="select"===s.type,i.checkbox=t(s.checkbox),s.clicker&&(i.clicker=t(s.clicker)),i.createEl(),i.bindEvents()};s.prototype.createEl=function(){var e=this,s=e.el.height(),i=e.el.width();s||e.el.height(s=e.opts.height),i||e.el.width(i=e.opts.width),e.h=s,e.w=i;var o=function(e){return t('<div class="toggle-'+e+'">')};e.els={slide:o("slide"),inner:o("inner"),on:o("on"),off:o("off"),blob:o("blob")};var n=s/2,a=i-n,r=e.selectType;e.els.on.css({height:s,width:a,textIndent:r?"":-n,lineHeight:s+"px"}).html(e.opts.text.on),e.els.off.css({height:s,width:a,marginLeft:r?"":-n,textIndent:r?"":n,lineHeight:s+"px"}).html(e.opts.text.off).addClass("active"),e.els.blob.css({height:s,width:s,marginLeft:-n}),e.els.inner.css({width:2*i-s,marginLeft:r||e.active?0:-i+s}),e.selectType&&(e.els.slide.addClass("toggle-select"),e.el.css("width",2*a),e.els.blob.hide()),e.els.inner.append(e.els.on,e.els.blob,e.els.off),e.els.slide.html(e.els.inner),e.el.html(e.els.slide)},s.prototype.bindEvents=function(){var e=this,t=function(t){t.target===e.els.blob[0]&&e.opts.drag||e.toggle()};!e.opts.click||e.opts.clicker&&e.opts.clicker.has(e.el).length||e.el.on("click",t),e.opts.clicker&&e.opts.clicker.on("click",t),e.opts.drag&&!e.selectType&&e.bindDrag()},s.prototype.bindDrag=function(){var e,t=this,s=(t.w-t.h)/4,i=function(i){if(t.el.off("mousemove"),t.els.slide.off("mouseleave"),t.els.blob.off("mouseup"),!e&&t.opts.click&&"mouseleave"!==i.type)return t.toggle(),void 0;var o=t.active?-s>e:e>s;o?t.toggle():t.els.inner.stop().animate({marginLeft:t.active?0:-t.w+t.h},t.opts.animate/2)},o=-t.w+t.h;t.els.blob.on("mousedown",function(s){e=0,t.els.blob.off("mouseup"),t.els.slide.off("mouseleave");var n=s.pageX;t.el.on("mousemove",t.els.blob,function(s){e=s.pageX-n;var i;t.active?(i=e,e>0&&(i=0),o>e&&(i=o)):(i=e+o,0>e&&(i=o),e>-o&&(i=0)),t.els.inner.css("margin-left",i)}),t.els.blob.on("mouseup",i),t.els.slide.on("mouseleave",i)})},s.prototype.toggle=function(e){var t=this;if(t.active!==e){var s=t.active=!t.active;if(t.el.data("toggle-active",s),t.els.off.toggleClass("active",!s),t.els.on.toggleClass("active",s),t.checkbox.prop("checked",s),t.el.trigger(t.opts.event,s),!t.selectType){var i=s?0:-t.w+t.h;t.els.inner.stop().animate({marginLeft:i},t.opts.animate)}}},t.fn.toggles=function(e){return this.each(function(){new s(t(this),e)})}};"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery||e.Zepto||e.ender||e.$||$)}(this);